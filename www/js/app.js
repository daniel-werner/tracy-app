!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=24)}([function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var i={TIZEN:"tizen",ANDROID:"android",BROWSER:"browser"},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"get",value:function(){var e=i.BROWSER;return"object"===("undefined"==typeof tizen?"undefined":o(tizen))&&"object"===o(tizen.systeminfo)?e=i.TIZEN:"object"===("undefined"==typeof device?"undefined":o(device))&&"Android"===device.platform&&(e=i.ANDROID),e}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}()},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"c",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n(21),n(14);var r=0,i=0,a=1,u=2,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=null,this.status=r,this._points=[],this._distance=0,this._segmentIndex=0,this._state=i}var t,n,a;return t=e,(n=[{key:"init",value:function(){}},{key:"start",value:function(){this._state=1}},{key:"pause",value:function(){this._state=2,this._segmentIndex++}},{key:"save",value:function(){this.status=1}},{key:"resume",value:function(){this._state=1}},{key:"isActive",value:function(){return 1===this._state}},{key:"addPoint",value:function(e){e.segment_index=this._segmentIndex,this._points.push(e);var t=this._getCalculationPoints();t&&this.calculate(t.pointA,t.pointB)}},{key:"_getCalculationPoints",value:function(){var e=null;return this._points.length>=2&&(e={pointA:this._points[this._points.length-2],pointB:this._points[this._points.length-1]}),e}},{key:"_calculateDistance",value:function(e,t){var n=window.app.common.calculations.calculateDistance({latitude:e.lat,longitude:e.lng},{latitude:t.lat,longitude:t.lng});return this._distance+=n.raw,n.raw}},{key:"calculate",value:function(e,t){}},{key:"toObject",value:function(){return{type:this.type,status:this.status,points:this._points}}},{key:"speedUnit",get:function(){return"km/h"}},{key:"speedLabel",get:function(){return"Speed"}},{key:"speed",get:function(){return 0}},{key:"distance",get:function(){return this._distance/1e3},set:function(e){this._distance=e}},{key:"points",get:function(){return this._points}},{key:"heartRate",get:function(){return this._points.length?this._points[this._points.length-1].heart_rate:0}},{key:"altitude",get:function(){return this._points.length?this._points[this._points.length-1].elevation:0}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",function(){return r});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commonEvents=window.app.common.events}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.bind()}},{key:"bind",value:function(){}},{key:"isHeartRateAvailable",value:function(){return!1}},{key:"backgroundRunEnable",value:function(){}},{key:"backgroundRunDisable",value:function(){}},{key:"exit",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),e}()},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",function(){return r});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.level=null,this.commonEvents=window.app.common.events}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.bind()}},{key:"bind",value:function(){}}])&&o(t.prototype,n),r&&o(t,r),e}()},function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",function(){return i});var r=["2G","2.5G","3G","4G","WIFI","ETHERNET","UNKNOWN"],i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commonEvents=window.app.common.events,this.networkType="NONE"}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.bind()}},{key:"bind",value:function(){}},{key:"isNetworkAvailable",value:function(){return-1!==r.indexOf(this.networkType)}},{key:"getNetworkType",value:function(){return this.networkType}}])&&o(t.prototype,n),i&&o(t,i),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var o=n(0),r=n(2),i=n(8),a=n(9),u=n(3),c=n(10),s=n(11),l=n(4),f=n(12),d=n(13);function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.platform=t}var t,n,y;return t=e,(n=[{key:"buildNetworkDriver",value:function(){var e=new l.a;switch(this.platform){case o.a.TIZEN:e=new f.a;break;case o.a.ANDROID:e=new d.a}return e}},{key:"buildBatteryDriver",value:function(){var e=new u.a;switch(this.platform){case o.a.TIZEN:e=new c.a;break;case o.a.ANDROID:e=new s.a}return e}},{key:"buildHardwareDriver",value:function(){var e=new r.a;switch(this.platform){case o.a.TIZEN:e=new i.a;break;case o.a.ANDROID:e=new a.a}return e}}])&&p(t.prototype,n),y&&p(t,y),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(1);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,u(t).call(this))).type=o.b,e._speed=0,e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"_calculateSpeed",value:function(e,t){var n=this._calculateDistance(e,t),o=t.time-e.time;return this._speed=n>.5&&o>0&&o?3600*n/o:0,this._speed}},{key:"calculate",value:function(e,t){this._calculateSpeed(e,t)}},{key:"speed",get:function(){return this._speed}}])&&i(n.prototype,r),s&&i(n,s),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(1);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,u(t).call(this))).type=o.c,e._pace=0,e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"_calculatePace",value:function(e,t){var n=this._calculateDistance(e,t),o=t.time-e.time;return n>.5&&o>0?this._pace=o/n/60:this._speed=0,this._pace}},{key:"calculate",value:function(e,t){this._calculatePace(e,t)}},{key:"speedUnit",get:function(){return"min/km"}},{key:"speedLabel",get:function(){return"Pace"}},{key:"speed",get:function(){return this._pace}}])&&i(n.prototype,r),s&&i(n,s),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,u(t).call(this))).commonEvents=window.app.common.events,e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"bind",value:function(){}},{key:"isHeartRateAvailable",value:function(){return!0}},{key:"backgroundRunEnable",value:function(){tizen.power.request("CPU","CPU_AWAKE"),tizen.power.request("SCREEN","SCREEN_NORMAL")}},{key:"backgroundRunDisable",value:function(){tizen.power.release("CPU"),tizen.power.release("SCREEN")}},{key:"exit",value:function(){try{tizen.application.getCurrentApplication().exit()}catch(e){console.warn("Application exit failed.",e.message)}}}])&&i(n.prototype,r),s&&i(n,s),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,u(t).call(this))).commonEvents=window.app.common.events,e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"bind",value:function(){cordova.plugins.backgroundMode.on("activate",function(){console.log("activate background mode"),cordova.plugins.backgroundMode.disableWebViewOptimizations()})}},{key:"isHeartRateAvailable",value:function(){return!1}},{key:"backgroundRunEnable",value:function(){cordova.plugins.backgroundMode.enable()}},{key:"backgroundRunDisable",value:function(){cordova.plugins.backgroundMode.disable()}},{key:"exit",value:function(){try{navigator.app.exitApp()}catch(e){console.warn("Application exit failed.",e.message)}}}])&&i(n.prototype,r),s&&i(n,s),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(3);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).apply(this,arguments))}var n,s,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(s=[{key:"bind",value:function(){var e=this,t=null;if("object"===("undefined"==typeof tizen?"undefined":r(tizen))&&"object"===r(tizen.systeminfo))t=tizen.systeminfo;else console.warn("tizen.systeminfo not available");try{t.addPropertyValueChangeListener("BATTERY",function(t){e.level=t.level,!t.isCharging&&t.level<e.LOW_BATTERY&&e.commonEvents.dispatchEvent("model.battery.low")},null,function(e){console.warn("Battery state listener was not set.",e)})}catch(e){console.warn("Battery state listener was not set.",e)}}}])&&i(n.prototype,s),l&&i(n,l),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(3);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"bind",value:function(){var e=this;document.addEventListener("deviceready",function(){window.addEventListener("batterystatus",function(t){e.level=t.level},!1),window.addEventListener("batterylow",function(t){e.commonEvents.dispatchEvent("model.battery.low")},!1)},!1)}}])&&i(n.prototype,r),s&&i(n,s),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(4);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this))}var n,s,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(s=[{key:"bind",value:function(){var e=this,t=null;if("object"===("undefined"==typeof tizen?"undefined":r(tizen))&&"object"===r(tizen.systeminfo))t=tizen.systeminfo;else console.warn("tizen.systeminfo not available");try{t.getPropertyValue("NETWORK",function(t){e.onGetNetworkTypeSuccess(t)},function(e){console.warn("Couldn't get network type value.",e)})}catch(e){console.warn("Couldn't get network type value.",e)}try{t.addPropertyValueChangeListener("NETWORK",function(t){e.onNetworkTypeChange(t)})}catch(e){console.warn("Network change listener was not set.",e)}}},{key:"onNetworkTypeChange",value:function(e){this.networkType=e.networkType,this.commonEvents.dispatchEvent("model.network.type.changed")}},{key:"onGetNetworkTypeSuccess",value:function(e){this.networkType=e.networkType,this.commonEvents.dispatchEvent("model.network.initialized")}}])&&i(n.prototype,s),l&&i(n,l),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(4);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this))}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"bind",value:function(){var e=this;document.addEventListener("offline",function(){e.onNetworkTypeChange()},!1),document.addEventListener("online",function(){e.onNetworkTypeChange()},!1),setTimeout(function(){e.onGetNetworkTypeSuccess()},500)}},{key:"isNetworkAvailable",value:function(){return navigator.connection.type!==Connection.NONE}},{key:"onNetworkTypeChange",value:function(){this.networkType=navigator.connection.type,this.commonEvents.dispatchEvent("model.network.type.changed")}},{key:"onGetNetworkTypeSuccess",value:function(){this.networkType=navigator.connection.type,this.commonEvents.dispatchEvent("model.network.initialized")}}])&&i(n.prototype,r),s&&i(n,s),t}()},function(e,t){window.app=window.app||{},function(e){"use strict";var t="m",n="km",o=null;function r(e){return e*Math.PI/180}function i(e){return e>=1e3&&(e/=1e3),e.toFixed(0)}function a(e){return e>=1e3?n:t}e.common=e.common||{},e.common.calculations=e.common.calculations||{},(o=e.common.calculations).calculateAngle=function(e,t){var n=r(e.longitude),o=r(t.longitude),i=r(e.latitude),a=r(t.latitude),u=o-n;return u>Math.PI?u-=2*Math.PI:u<-Math.PI&&(u+=2*Math.PI),180*Math.atan2(u,Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)))/Math.PI},o.calculateDistance=function(e,t){var n=r(e.longitude),o=r(t.longitude),u=r(e.latitude),c=r(t.latitude),s=6371e3*Math.acos(Math.sin(u)*Math.sin(c)+Math.cos(u)*Math.cos(c)*Math.cos(o-n));return{raw:s,formatted:i(s),unit:a(s)}},o.angleFromRotation=function(e){var t=-e%360;return t<0&&(t+=360),t},o.calculatePathAngle=function(e,t,n){return e*n/t}}(window.app)},function(e,t,n){n(16),n(17),n(18),n(19),n(20),n(23)},function(e,t){window.app=window.app||{},function(e){"use strict";e.common=e.common||{},e.common.events=e.common.events||{},e.common.events.dispatchEvent=function(e,t){var n=new window.CustomEvent(e,{detail:t});window.dispatchEvent(n)}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";e.common.events;e.model=e.model||{},e.model.battery=e.model.battery||{},e.model.battery.init=function(e){(e=e).init()}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";e.common.events;var t=null;e.model=e.model||{},e.model.network=e.model.network||{},(t=e.model.network).driver=null,t.isNetworkAvailable=function(){return t.driver.isNetworkAvailable()},t.getNetworkType=function(){return t.driver.getNetworkType()},t.init=function(e){t.driver=e,t.driver.init()}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";var t=1e3,n=5,o=null,r=e.common.events,i=(e.common.calculations,null),a=null,u=0;function c(e){(function(e){return!(!a||a.coords.latitude!==e.coords.latitude&&a.coords.longitude!==e.coords.longitude)})(e)||(a=e,r.dispatchEvent("model.geolocation.current.position.changed")),r.dispatchEvent("model.geolocation.position.available"),u=0}function s(e){r.dispatchEvent("model.geolocation.position.unavailable"),(u+=1)===n&&r.dispatchEvent("model.geolocation.position.lost"),console.warn(e)}e.model=e.model||{},e.model.geolocation=e.model.geolocation||{},(o=e.model.geolocation).getCurrentPosition=function(){return a},o.init=function(){navigator.geolocation?(i=navigator.geolocation,r.dispatchEvent("model.geolocation.available"),function(){try{i.watchPosition(c,s,{maximumAge:t,enableHighAccuracy:!0,timeout:t})}catch(e){console.warn("Couldn't get geolocation position.",e)}}()):r.dispatchEvent("model.geolocation.unavailable")}}(window.app)},function(e,t,n){"use strict";n.r(t);var o=n(6),r=n(7),i=n(1),a=n(22);n(14),window.app=window.app||{},function(e){var t=null,n=e.model.geolocation,u=e.common.events,c=null,s=null,l=null;function f(){s&&u.dispatchEvent("model.workout.updateui",s)}function d(){var e=n.getCurrentPosition();if(s&&s.isActive()){var t=new Point(0,e.coords.latitude,e.coords.longitude,0,e.coords.altitude||0,e.timestamp);s.addPoint(t),f()}}e.model=e.model||{},e.model.workout=e.model.workout||{},(t=e.model.workout).WORKOUT_TYPE_RUNNING=1,t.WORKOUT_TYPE_CYCLING=2,t.WORKOUT_STATUS_UNSAVED=0,t.WORKOUT_STATUS_SAVED=1,t.WORKOUT_STATUS_SYNCED=2,t.init=function(e){(c=e).init(),window.addEventListener("model.geolocation.position.available",d),l=new a({dbVersion:1,storeName:"workouts",keyPath:"id",autoIncrement:!0,onStoreReady:function(){u.dispatchEvent("model.workout.dbready"),!0}})},t.start=function(e){switch(e){case i.b:s=new o.a;break;case i.c:s=new r.a}s.start(),f(),c.backgroundRunEnable()},t.togglePause=function(){s.isActive()?(u.dispatchEvent("model.workout.paused"),s.pause(),c.backgroundRunDisable()):(c.backgroundRunEnable(),u.dispatchEvent("model.workout.resumed"),s.resume())},t.isHeartRateAvailable=function(){return c.isHeartRateAvailable()},t.save=function(){s.save();return l.put(s.toObject(),function(e){console.log("Successfully inserted! insertId is: "+e),u.dispatchEvent("model.workout.save.successful",!0)},function(e){console.log("Workout save failed!",e),u.dispatchEvent("model.workout.save.failed")}),!1},t.clear=function(){l.clear(function(){console.log("Database celared"),u.dispatchEvent("model.workout.clear.successful")},function(e){console.log("Database clear failed!",e),u.dispatchEvent("model.workout.clear.failed")})},t.getList=function(e){l.getAll(function(t){t=t.filter(function(t){return t.status==e}),u.dispatchEvent("model.workout.getlist.successful",t)},function(e){console.log("Workout save failed!",e),u.dispatchEvent("model.workout.getlist.failed")})},t.getItemsToSync=function(){return t.getList(t.WORKOUT_STATUS_SAVED)},t.getWorkout=function(){return s}}(window.app)},function(e,t){var n,o;n=window,(o=function(e,t,n,o,r,i){this.segment_index=e,this.lat=t,this.lng=n,this.heart_rate=o,this.elevation=r,this.time=i}).prototype={init:function(){}},n.Point=o},function(e,t,n){var o,r;!function(i,a,u){"use strict";void 0===(r="function"==typeof(o=function(){var e=function(e){throw e},t=function(){},n={storeName:"Store",storePrefix:"IDBWrapper-",dbVersion:1,keyPath:"id",autoIncrement:!0,onStoreReady:function(){},onError:e,indexes:[],implementationPreference:["indexedDB","webkitIndexedDB","mozIndexedDB","shimIndexedDB"]},o=function(e,t){for(var o in void 0===t&&"function"==typeof e&&(t=e),"[object Object]"!=Object.prototype.toString.call(e)&&(e={}),n)this[o]=void 0!==e[o]?e[o]:n[o];this.dbName=this.storePrefix+this.storeName,this.dbVersion=parseInt(this.dbVersion,10)||1,t&&(this.onStoreReady=t);var r="object"==typeof window?window:self,i=this.implementationPreference.filter(function(e){return e in r});this.implementation=i[0],this.idb=r[this.implementation],this.keyRange=r.IDBKeyRange||r.webkitIDBKeyRange||r.mozIDBKeyRange,this.consts={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange",NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"},this.openDB()},r={constructor:o,version:"1.7.2",db:null,dbName:null,dbVersion:null,store:null,storeName:null,storePrefix:null,keyPath:null,autoIncrement:null,indexes:null,implementationPreference:null,implementation:"",onStoreReady:null,onError:null,_insertIdCount:0,openDB:function(){var e=this.idb.open(this.dbName,this.dbVersion),t=!1;e.onerror=function(e){if(function(e){if("error"in e.target)return"VersionError"==e.target.error.name;if("errorCode"in e.target)return 12==e.target.errorCode;return!1}(e))this.onError(new Error("The version number provided is lower than the existing one."));else{var t;if(e.target.error)t=e.target.error;else{var n="IndexedDB unknown error occurred when opening DB "+this.dbName+" version "+this.dbVersion;"errorCode"in e.target&&(n+=" with error code "+e.target.errorCode),t=new Error(n)}this.onError(t)}}.bind(this),e.onsuccess=function(e){if(!t)if(this.db)this.onStoreReady();else if(this.db=e.target.result,"string"!=typeof this.db.version)if(this.db.objectStoreNames.contains(this.storeName)){var n=this.db.transaction([this.storeName],this.consts.READ_ONLY);this.store=n.objectStore(this.storeName);var o=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(e){var n=e.name;if(!n)return t=!0,void this.onError(new Error("Cannot create index: No index name given."));if(this.normalizeIndexData(e),this.hasIndex(n)){var r=this.store.index(n),i=this.indexComplies(r,e);i||(t=!0,this.onError(new Error('Cannot modify index "'+n+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),o.splice(o.indexOf(n),1)}else t=!0,this.onError(new Error('Cannot create new index "'+n+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))},this),o.length&&(t=!0,this.onError(new Error('Cannot delete index(es) "'+o.toString()+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),t||this.onStoreReady()}else this.onError(new Error("Object store couldn't be created."));else this.onError(new Error("The IndexedDB implementation in this browser is outdated. Please upgrade your browser."))}.bind(this),e.onupgradeneeded=function(e){if(this.db=e.target.result,this.db.objectStoreNames.contains(this.storeName))this.store=e.target.transaction.objectStore(this.storeName);else{var n={autoIncrement:this.autoIncrement};null!==this.keyPath&&(n.keyPath=this.keyPath),this.store=this.db.createObjectStore(this.storeName,n)}var o=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(e){var n=e.name;if(n||(t=!0,this.onError(new Error("Cannot create index: No index name given."))),this.normalizeIndexData(e),this.hasIndex(n)){var r=this.store.index(n),i=this.indexComplies(r,e);i||(this.store.deleteIndex(n),this.store.createIndex(n,e.keyPath,{unique:e.unique,multiEntry:e.multiEntry})),o.splice(o.indexOf(n),1)}else this.store.createIndex(n,e.keyPath,{unique:e.unique,multiEntry:e.multiEntry})},this),o.length&&o.forEach(function(e){this.store.deleteIndex(e)},this)}.bind(this)},deleteDatabase:function(e,t){if(this.idb.deleteDatabase){this.db.close();var n=this.idb.deleteDatabase(this.dbName);n.onsuccess=e,n.onerror=t}else t(new Error("Browser does not support IndexedDB deleteDatabase!"))},put:function(n,o,r,i){null!==this.keyPath&&(i=r,r=o,o=n),i||(i=e),r||(r=t);var a,u=!1,c=null,s=this.db.transaction([this.storeName],this.consts.READ_WRITE);return s.oncomplete=function(){var e=u?r:i;e(c)},s.onabort=i,s.onerror=i,null!==this.keyPath?(this._addIdPropertyIfNeeded(o),a=s.objectStore(this.storeName).put(o)):a=s.objectStore(this.storeName).put(o,n),a.onsuccess=function(e){u=!0,c=e.target.result},a.onerror=i,s},get:function(n,o,r){r||(r=e),o||(o=t);var i=!1,a=null,u=this.db.transaction([this.storeName],this.consts.READ_ONLY);u.oncomplete=function(){var e=i?o:r;e(a)},u.onabort=r,u.onerror=r;var c=u.objectStore(this.storeName).get(n);return c.onsuccess=function(e){i=!0,a=e.target.result},c.onerror=r,u},remove:function(n,o,r){r||(r=e),o||(o=t);var i=!1,a=null,u=this.db.transaction([this.storeName],this.consts.READ_WRITE);u.oncomplete=function(){var e=i?o:r;e(a)},u.onabort=r,u.onerror=r;var c=u.objectStore(this.storeName).delete(n);return c.onsuccess=function(e){i=!0,a=e.target.result},c.onerror=r,u},batch:function(n,o,r){if(r||(r=e),o||(o=t),"[object Array]"!=Object.prototype.toString.call(n))r(new Error("dataArray argument must be of type Array."));else if(0===n.length)return o(!0);var i=n.length,a=!1,u=!1,c=this.db.transaction([this.storeName],this.consts.READ_WRITE);c.oncomplete=function(){var e=u?o:r;e(u)},c.onabort=r,c.onerror=r;var s=function(){0!==--i||a||(a=!0,u=!0)};return n.forEach(function(e){var t=e.type,n=e.key,o=e.value,i=function(e){c.abort(),a||(a=!0,r(e,t,n))};if("remove"==t){var u=c.objectStore(this.storeName).delete(n);u.onsuccess=s,u.onerror=i}else if("put"==t){var l;null!==this.keyPath?(this._addIdPropertyIfNeeded(o),l=c.objectStore(this.storeName).put(o)):l=c.objectStore(this.storeName).put(o,n),l.onsuccess=s,l.onerror=i}},this),c},putBatch:function(e,t,n){var o=e.map(function(e){return{type:"put",value:e}});return this.batch(o,t,n)},upsertBatch:function(n,o,r,i){"function"==typeof o&&(i=r=o,o={}),i||(i=e),r||(r=t),o||(o={}),"[object Array]"!=Object.prototype.toString.call(n)&&i(new Error("dataArray argument must be of type Array."));var a=o.keyField||this.keyPath,u=n.length,c=!1,s=!1,l=0,f=this.db.transaction([this.storeName],this.consts.READ_WRITE);f.oncomplete=function(){s?r(n):i(!1)},f.onabort=i,f.onerror=i;var d=function(e){var t=n[l++];t[a]=e.target.result,0!==--u||c||(c=!0,s=!0)};return n.forEach(function(e){var t,n=e.key;null!==this.keyPath?(this._addIdPropertyIfNeeded(e),t=f.objectStore(this.storeName).put(e)):t=f.objectStore(this.storeName).put(e,n),t.onsuccess=d,t.onerror=function(e){f.abort(),c||(c=!0,i(e))}},this),f},removeBatch:function(e,t,n){var o=e.map(function(e){return{type:"remove",key:e}});return this.batch(o,t,n)},getBatch:function(n,o,r,i){if(r||(r=e),o||(o=t),i||(i="sparse"),"[object Array]"!=Object.prototype.toString.call(n))r(new Error("keyArray argument must be of type Array."));else if(0===n.length)return o([]);var a=[],u=n.length,c=!1,s=null,l=this.db.transaction([this.storeName],this.consts.READ_ONLY);l.oncomplete=function(){var e=c?o:r;e(s)},l.onabort=r,l.onerror=r;var f=function(e){e.target.result||"dense"==i?a.push(e.target.result):"sparse"==i&&a.length++,0===--u&&(!0,c=!0,s=a)};return n.forEach(function(e){var t=l.objectStore(this.storeName).get(e);t.onsuccess=f,t.onerror=function(e){!0,s=e,r(e),l.abort()}},this),l},getAll:function(n,o){o||(o=e),n||(n=t);var r=this.db.transaction([this.storeName],this.consts.READ_ONLY),i=r.objectStore(this.storeName);return i.getAll?this._getAllNative(r,i,n,o):this._getAllCursor(r,i,n,o),r},_getAllNative:function(e,t,n,o){var r=!1,i=null;e.oncomplete=function(){var e=r?n:o;e(i)},e.onabort=o,e.onerror=o;var a=t.getAll();a.onsuccess=function(e){r=!0,i=e.target.result},a.onerror=o},_getAllCursor:function(e,t,n,o){var r=[],i=!1,a=null;e.oncomplete=function(){var e=i?n:o;e(a)},e.onabort=o,e.onerror=o;var u=t.openCursor();u.onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):(i=!0,a=r)},u.onError=o},clear:function(n,o){o||(o=e),n||(n=t);var r=!1,i=null,a=this.db.transaction([this.storeName],this.consts.READ_WRITE);a.oncomplete=function(){var e=r?n:o;e(i)},a.onabort=o,a.onerror=o;var u=a.objectStore(this.storeName).clear();return u.onsuccess=function(e){r=!0,i=e.target.result},u.onerror=o,a},_addIdPropertyIfNeeded:function(e){void 0===e[this.keyPath]&&(e[this.keyPath]=this._insertIdCount+++Date.now())},getIndexList:function(){return this.store.indexNames},hasIndex:function(e){return this.store.indexNames.contains(e)},normalizeIndexData:function(e){e.keyPath=e.keyPath||e.name,e.unique=!!e.unique,e.multiEntry=!!e.multiEntry},indexComplies:function(e,t){var n=["keyPath","unique","multiEntry"].every(function(n){if("multiEntry"==n&&void 0===e[n]&&!1===t[n])return!0;if("keyPath"==n&&"[object Array]"==Object.prototype.toString.call(t[n])){var o=t.keyPath,r=e.keyPath;if("string"==typeof r)return o.toString()==r;if("function"!=typeof r.contains&&"function"!=typeof r.indexOf)return!1;if(r.length!==o.length)return!1;for(var i=0,a=o.length;i<a;i++)if(!(r.contains&&r.contains(o[i])||r.indexOf(-1!==o[i])))return!1;return!0}return t[n]==e[n]});return n},iterate:function(t,n){var o="desc"==(n=a({index:null,order:"ASC",autoContinue:!0,filterDuplicates:!1,keyRange:null,writeAccess:!1,onEnd:null,onError:e,limit:1/0,offset:0,allowItemRejection:!1},n||{})).order.toLowerCase()?"PREV":"NEXT";n.filterDuplicates&&(o+="_NO_DUPLICATE");var r=!1,i=this.db.transaction([this.storeName],this.consts[n.writeAccess?"READ_WRITE":"READ_ONLY"]),u=i.objectStore(this.storeName);n.index&&(u=u.index(n.index));var c=0;i.oncomplete=function(){r?n.onEnd?n.onEnd():t(null):n.onError(null)},i.onabort=n.onError,i.onerror=n.onError;var s=u.openCursor(n.keyRange,this.consts[o]);return s.onerror=n.onError,s.onsuccess=function(e){var o=e.target.result;if(o)if(n.offset)o.advance(n.offset),n.offset=0;else{var a=t(o.value,o,i);n.allowItemRejection&&!1===a||c++,n.autoContinue&&(c+n.offset<n.limit?o.continue():r=!0)}else r=!0},i},query:function(e,t){var n=[],o=0;return(t=t||{}).autoContinue=!0,t.writeAccess=!1,t.allowItemRejection=!!t.filter,t.onEnd=function(){e(n,o)},this.iterate(function(e){o++;var r=!t.filter||t.filter(e);return!1!==r&&n.push(e),r},t)},count:function(t,n){var o=(n=a({index:null,keyRange:null},n||{})).onError||e,r=!1,i=null,u=this.db.transaction([this.storeName],this.consts.READ_ONLY);u.oncomplete=function(){var e=r?t:o;e(i)},u.onabort=o,u.onerror=o;var c=u.objectStore(this.storeName);n.index&&(c=c.index(n.index));var s=c.count(n.keyRange);return s.onsuccess=function(e){r=!0,i=e.target.result},s.onError=o,u},makeKeyRange:function(e){var t,n=void 0!==e.lower,o=void 0!==e.upper,r=void 0!==e.only;switch(!0){case r:t=this.keyRange.only(e.only);break;case n&&o:t=this.keyRange.bound(e.lower,e.upper,e.excludeLower,e.excludeUpper);break;case n:t=this.keyRange.lowerBound(e.lower,e.excludeLower);break;case o:t=this.keyRange.upperBound(e.upper,e.excludeUpper);break;default:throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.')}return t}},i={};function a(e,t){var n,o;for(n in t)(o=t[n])!==i[n]&&o!==e[n]&&(e[n]=o);return e}return o.prototype=r,o.version=r.version,o})?o.call(t,n,t,e):o)||(e.exports=r)}()},function(e,t){window.app=window.app||{},function(e){"use strict";var t=null,n=e.model.workout,o=e.common.events,r=(e.model.network,{login:"",upload:""});function i(){window.addEventListener("model.workout.getlist.successful",function(e){e.stopPropagation(),function(e){var t=new XMLHttpRequest,i=(a=localStorage.getItem("token")||"",u={key:"Authorization",value:"Bearer "+a},!!a.length&&u);var a,u;if(!1===i)return o.dispatchEvent("model.sync.login.required",{syncAfterLogin:!0}),!1;t.onreadystatechange=function(){if(4==t.readyState)switch(console.log("Response: "+t.status),t.status){case 200:n.clear(),o.dispatchEvent("model.sync.upload.successful",!0);break;case 401:o.dispatchEvent("model.sync.login.required",{syncAfterLogin:!0});break;default:o.dispatchEvent("model.sync.upload.failed")}},t.open("POST",r.upload,!0);var c=JSON.stringify({data:e});t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.setRequestHeader("Accept","application/json"),t.setRequestHeader(i.key,i.value),console.log("Sending data to the server"),t.send(c)}(e.detail)},"model.workout.getlist.failed",function(e){e.stopPropagation(),o.dispatchEvent("model.sync.upload.failed")})}e.model=e.model||{},e.model.sync=e.model.sync||{},(t=e.model.sync).init=function(e,t){r.login=e,r.upload=t,i()},t.login=function(e,t){var n=new XMLHttpRequest,i=window.localStorage;n.onreadystatechange=function(){4==n.readyState&&(200==n.status?(i.setItem("token",JSON.parse(n.response)),o.dispatchEvent("model.sync.login.successful",{token:n.response})):o.dispatchEvent("model.sync.login.failed"))},n.onerror=function(e){console.log(e)};var a="email="+e+"&password="+t;n.open("POST",r.login,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(a)},t.sync=function(){n.getItemsToSync()}}(window.app)},function(e,t,n){e.exports=n(25)},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(5);n(15),n(26),window.app=window.app||{},window.Platform=o.b,function(e){var t=e.model.battery,n=e.model.workout,i=e.model.network,a=null,u=e.ui;function c(e){"back"===e.keyName&&u.toggleClosePopup()}e.exit=function(){a.exit()},e.init=function(){var e=o.b.get(),s=new r.a(e);a=s.buildHardwareDriver(e),t.init(s.buildBatteryDriver(e)),i.init(s.buildNetworkDriver(e)),n.init(a),document.addEventListener("tizenhwkey",c),document.addEventListener("backbutton",function(e){u.toggleClosePopup()},!1),u.init()},"undefined"!=typeof cordova?document.addEventListener("deviceready",e.init):window.addEventListener("load",e.init)}(window.app)},function(e,t,n){n(27),n(28),n(29),n(30),n(31),window.app=window.app||{},function(e){"use strict";var t=null,n=null,o=null,r=null,i=null,a=null,u=null,c=null,s=null,l=null,f=null,d=null,p=null,y=null;function h(){v()}function v(){for(var e=0;e<p.length;++e){var t=p[e];t.classList.contains("network-status-active")&&t.classList.remove("network-status-active"),o.isNetworkAvailable()&&!t.classList.contains("network-status-active")&&t.classList.add("network-status-active")}}function m(){for(var e=0;e<d.length;++e){var t=d[e];t.classList.contains("gps-status-active")||t.classList.add("gps-status-active")}}function b(){for(var e=0;e<d.length;++e){var t=d[e];t.classList.contains("gps-status-active")&&t.classList.remove("gps-status-active")}}function w(){e.exit()}e.ui=e.ui||{},(t=e.ui).toggleClosePopup=function(){l.classList.contains("ui-popup-active")?tau.closePopup(l):tau.openPopup(l)},t.init=function(){n=e.model.geolocation,o=e.model.network,e.model.workout,r=e.model.sync,i=e.ui.intro,a=e.ui.main,u=e.ui.workout,c=e.ui.login,s=e.ui.info,y=e.common.events,l=document.getElementById("close-popup"),f=l.querySelector("#close-popup-yes-btn"),d=document.querySelectorAll(".gps-status"),p=document.querySelectorAll(".network-status"),f.addEventListener("click",w),window.addEventListener("model.network.initialized",h),window.addEventListener("model.network.type.changed",v),window.addEventListener("model.geolocation.position.available",m),window.addEventListener("model.geolocation.position.unavailable",b),window.addEventListener("model.geolocation.position.lost",b),s.init(),i.init(),a.init(),u.init(),c.init(),n.init(),r.init("https://tracy.wernerd.info/api/login","https://tracy.wernerd.info/api/workouts"),window.addEventListener("model.workout.dbready",function(e){r.sync()}),window.addEventListener("model.workout.save.successful",function(e){r.sync()}),window.addEventListener("model.sync.upload.successful",function(e){y.dispatchEvent("ui.info.show","Workouts synced successfully!")}),window.addEventListener("model.sync.upload.failed",function(e){y.dispatchEvent("ui.info.show","Workout sync failed!")})}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";var t="workout",n=null,o=null,r=null,i=null,a=null,u=null,c=null,s=null,l=null,f=null,d=null,p=null,y=null,h=null,v=null,m=null,b=null,w=null,g=null;function k(e){a.innerText=Math.round(10*e.speed)/10,u.innerText=e.speedLabel,c.innerText=e.speedUnit,s.innerText=Math.round(10*e.distance)/10,l.innerText=Math.round(e.heartRate),f.innerText=Math.round(e.altitude)}function E(){p&&k(p),o.isHeartRateAvailable()||(l.style.display="none"),i.style.display="none"}function _(e){p=e.detail,tau.activePage.id===t&&k(p)}function P(e){tau.activePage.id===t&&"back"===e.keyName&&(o.togglePause(),e.stopPropagation())}function O(e){tau.activePage.id===t&&(i.style.display="inline",tau.openPopup(y))}function S(e){tau.activePage.id===t&&(i.style.display="none",tau.closePopup(y))}function N(){tau.openPopup(m)}function j(e){o.togglePause()}function T(){o.togglePause()}function R(){o.save(),tau.changePage("#main")}function x(){tau.changePage("#main")}function I(){g.dispatchEvent("ui.info.show","Workout saved sucessfully!")}function A(){g.dispatchEvent("ui.info.show","Workout saved failed!")}e.ui=e.ui||{},e.ui.workout=e.ui.workout||{},(r=e.ui.workout).show=function(){tau.changePage("#"+t)},r.init=function(){e.common.calculations,g=e.common.events,o=e.model.workout,n=document.getElementById(t),i=n.querySelector(".workout-status"),a=n.querySelector(".workout-speed"),u=n.querySelector(".workout-speed-label"),c=n.querySelector(".workout-speed-unit"),s=n.querySelector(".workout-distance"),l=n.querySelector(".workout-hr"),f=n.querySelector(".workout-altitude"),d=n.querySelector("#workout-pause-btn"),y=document.getElementById("pause-popup"),h=y.querySelector("#pause-popup-yes-btn"),v=y.querySelector("#pause-popup-no-btn"),m=document.getElementById("save-popup"),w=m.querySelector("#save-popup-yes-btn"),b=m.querySelector("#save-popup-no-btn"),n.addEventListener("pagebeforeshow",E),document.addEventListener("tizenhwkey",P),window.addEventListener("model.workout.updateui",_),window.addEventListener("model.workout.paused",O),window.addEventListener("model.workout.resumed",S),window.addEventListener("model.workout.save.successful",I),window.addEventListener("model.workout.save.failed",A),d.addEventListener("click",j),h.addEventListener("click",N),v.addEventListener("click",T),w.addEventListener("click",R),b.addEventListener("click",x)}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";var t="login-popup",n=null,o=null,r=null,i=e.common.events,a=!1,u=null,c=null,s=null;function l(){}function f(){var e=u.querySelector("#login-email").value,t=u.querySelector("#login-password").value;o.login(e,t)}function d(){}function p(){i.dispatchEvent("ui.info.show","Successful login!"),a&&(a=!1,o.sync())}function y(){i.dispatchEvent("ui.info.show","Login failed!")}function h(e){var t=e.detail||null;t&&t.hasOwnProperty("syncAfterLogin")&&t.syncAfterLogin&&(a=t.syncAfterLogin),tau.openPopup(u)}e.ui=e.ui||{},e.ui.login=e.ui.login||{},(r=e.ui.login).show=function(){tau.changePage("#"+t)},r.init=function(){o=e.model.sync,n=document.getElementById(t),u=document.getElementById("login-popup"),c=u.querySelector("#login-popup-login-btn"),s=u.querySelector("#login-popup-cancel-btn"),n.addEventListener("pagebeforeshow",l),c.addEventListener("click",f),s.addEventListener("click",d),window.addEventListener("model.sync.login.successful",p),window.addEventListener("model.sync.login.failed",y),window.addEventListener("model.sync.login.required",h)}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";var t=null,n=null,o=null,r=null,i=null;function a(){}function u(){n.start(n.WORKOUT_TYPE_CYCLING),tau.changePage("#workout")}function c(){n.start(n.WORKOUT_TYPE_RUNNING),tau.changePage("#workout")}e.ui=e.ui||{},e.ui.main=e.ui.main||{},(o=e.ui.main).show=function(e){tau.changePage("#main")},o.init=function(){e.model.geolocation,e.model.network,n=e.model.workout,e.ui.waiting,t=document.getElementById("main"),r=t.querySelector(".workout-start-cycling"),i=t.querySelector(".workout-start-running"),t.addEventListener("pagebeforeshow",a),r.addEventListener("click",u),i.addEventListener("click",c)}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";var t="intro",n="LOST\nCONNECTION",o="WAITING FOR\nGPS DATA",r="lost",i=3e3,a=null,u=null,c=null,s=null,l=!1;function f(){tau.activePage.id===t&&(l?tau.back():u.show())}function d(){s.classList.remove(r),s.innerText=o}function p(){s.classList.add(r),s.innerText=n,setTimeout(function(){d()},i)}e.ui=e.ui||{},e.ui.intro=e.ui.intro||{},(a=e.ui.intro).show=function(){l=!0,tau.changePage("#"+t)},a.init=function(){u=e.ui.main,a=e.ui.intro,c=document.getElementById(t),s=c.querySelector("#waiting-message"),d(),c.addEventListener("pagebeforeshow",p),window.addEventListener("model.geolocation.position.available",f)}}(window.app)},function(e,t){window.app=window.app||{},function(e){"use strict";var t=null,n=null,o=null,r=null;function i(){}function a(e){r.innerHTML=e.detail,tau.openPopup(o)}e.ui=e.ui||{},e.ui.info=e.ui.info||{},(n=e.ui.info).show=function(){tau.changePage("#info-popup")},n.init=function(){t=document.getElementById("info-popup"),o=document.getElementById("info-popup"),r=document.getElementById("info-content"),t.addEventListener("pagebeforeshow",i),window.addEventListener("ui.info.show",a)}}(window.app)}]);
//# sourceMappingURL=app.js.map