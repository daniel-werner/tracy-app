{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/common/app.common.calculations.js","webpack:///./src/js/common/app.common.events.js","webpack:///./src/js/model/app.model.battery.js","webpack:///./src/js/model/app.model.geolocation.js","webpack:///./src/js/model/app.model.network.js","webpack:///./src/js/model/app.model.sync.js","webpack:///./src/js/model/app.model.workout.js","webpack:///./src/js/model/drivers/android/app.drivers.android.battery.js","webpack:///./src/js/model/drivers/android/app.drivers.android.hardware.js","webpack:///./src/js/model/drivers/android/app.drivers.android.network.js","webpack:///./src/js/model/drivers/app.driver.factory.js","webpack:///./src/js/model/drivers/app.drivers.battery.js","webpack:///./src/js/model/drivers/app.drivers.hardware.js","webpack:///./src/js/model/drivers/app.drivers.network.js","webpack:///./src/js/model/drivers/app.drivers.platform.js","webpack:///./src/js/model/drivers/tizen/app.drivers.tizen.battery.js","webpack:///./src/js/model/drivers/tizen/app.drivers.tizen.hardware.js","webpack:///./src/js/model/drivers/tizen/app.drivers.tizen.network.js","webpack:///./src/js/model/models.js","webpack:///./src/js/workout/app.workout.base_workout.js","webpack:///./src/js/workout/app.workout.cycling_workout.js","webpack:///./src/js/workout/app.workout.point.js","webpack:///./src/js/workout/app.workout.running_workout.js","webpack:///./src/tests/spec/SyncModelSpec.js","webpack:///./src/tests/spec/WorkoutModelSpec.js","webpack:///./src/tests/spec/unit/DriverFactorySpec.js","webpack:///./src/tests/spec/unit/WorkoutSpec.js","webpack:///./src/tests/test.js"],"names":["window","app","defineAppCommonCalculations","EARTH_RADIUS","METERS_UNIT","KILOMETERS_UNIT","calculations","common","toDegrees","value","Math","PI","toRadians","formatDistance","distance","toFixed","formatUnit","calculateAngle","start","destination","sLon","longitude","dLon","sLat","latitude","dLat","deltaLon","atan2","log","tan","calculateDistance","acos","sin","cos","raw","formatted","unit","angleFromRotation","angle","calculatePathAngle","partialPath","totalPath","totalAngle","defineAppCommonEvents","events","dispatchEvent","eventName","data","customEvent","CustomEvent","detail","defineAppModelBattery","modelBattery","commonEvents","driver","model","battery","init","defineAppModelGeolocation","GEO_CHECKING_INTERVAL","GEO_CHECKING_COUNTER","modelGeolocation","commonCalculations","geolocation","currentPosition","checkingCounter","isPositionEqual","position","coords","onGetCurrentPositionSuccess","onGetCurrentPositionError","error","console","warn","getGeoPosition","watchPosition","maximumAge","enableHighAccuracy","timeout","getCurrentPosition","navigator","defineAppModelNetwork","modelNetwork","network","checkNetworkType","isNetworkAvailable","getNetworkType","defineAppModelSync","modelSync","modelWorkout","workout","syncUrls","login","upload","sync","bindEvents","addEventListener","e","stopPropagation","workouts","uploadWorkouts","getToken","localStorage","getItem","createAuthHeader","token","header","key","length","loginUrl","uploadUrl","email","password","client","XMLHttpRequest","onreadystatechange","readyState","status","setItem","JSON","parse","response","onerror","open","setRequestHeader","send","getItemsToSync","authHeaders","clear","payload","stringify","require","defineAppModelWorkout","hardwareDriver","active","segmentIndex","workoutDB","MPS_TO_KMH","MSEC_PER_METER_TO_MIN_PER_KM","isDBready","WORKOUT_TYPE_RUNNING","WORKOUT_TYPE_CYCLING","WORKOUT_STATUS_UNSAVED","WORKOUT_STATUS_SAVED","WORKOUT_STATUS_SYNCED","updateUI","points","lastPosition","lat","lng","timediff","time","speed","pace","heartRate","heart_rate","altitude","elevation","onModelGeolocationPositionAvailable","isActive","point","Point","timestamp","addPoint","initDatabase","IDBStore","dbVersion","storeName","keyPath","autoIncrement","onStoreReady","type","CyclingWorkout","RunningWorkout","backgroundRunEnable","togglePause","backgroundRunDisable","pause","save","onsuccess","id","put","toObject","getList","filter","item","getAll","getWorkout","root","BatteryDriverAndroid","proto","BatteryDriver","bind","_this","document","onBatteryStatus","level","onBatteryLow","prototype","HardwareDriverAndroid","HardwareDriver","cordova","plugins","backgroundMode","on","disableWebViewOptimizations","configure","text","round","isHeartRateAvailable","enable","disable","NetworkDriverAndroid","NetworkDriver","onNetworkTypeChange","connection","Connection","NONE","networkType","onGetNetworkTypeSuccess","DriverFactory","platform","buildNetworkDriver","networkDriver","Platform","PLATFORM_TIZEN","NetworkDriverTizen","PLATFORM_ANDROID","buildBatteryDriver","batteryDriver","BatteryDriverTizen","buildHardwareDriver","HardwareDriverTizen","NETWORKS","indexOf","PLATFORM_BROWSER","get","tizen","systeminfo","device","addPropertyValueChangeListener","change","isCharging","LOW_BATTERY","errorCallback","power","request","release","getPropertyValue","onGetPropertyValueError","WORKOUT_STATE_STOPPED","WORKOUT_STATE_RUNNING","WORKOUT_STATE_PAUSED","WORKOUT_STATE_AUTOPAUSED","BaseWorkout","_points","_distance","_segmentIndex","_state","segment_index","push","_getCalculationPoints","calculate","pointA","pointB","calculationPoints","_speed","_calculateDistance","timeDiff","_calculateSpeed","_pace","_calculatePace","describe","env","jasmine","getEnv","randomizeTests","beforeEach","done","xmlhttp","waypoints","responseText","driverFactory","runWorkout","doneCallback","delay","repeat","setTimeout","it","expect","hasOwnProperty","toBeTruthy","pauseListener","toEqual","removeEventListener","timeA","timeB","expectedDistance","expectedSpeed","expectedPace"],"mappings":"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","file":"/www/tests/test.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/*\n * Copyright (c) 2015 Samsung Electronics Co., Ltd. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* global window*/\n\n/**\n * Application common calculations module.\n * Provides methods that are necessary for navigation.\n *\n * @module app.common.calculations\n * @namespace app.common.calculations\n * @memberof app.common\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n// strict mode wrapper function\n(function defineAppCommonCalculations(app) {\n    'use strict';\n\n    /**\n     * Earth radius constant.\n     *\n     * @private\n     * @const {number}\n     */\n    var EARTH_RADIUS = 6371000,\n\n    /**\n     * Meters unit constant.\n     *\n     * @private\n     * @const {string}\n     */\n    METERS_UNIT = 'm',\n\n    /**\n     * Kilometers unit constant.\n     *\n     * @private\n     * @const {string}\n     */\n    KILOMETERS_UNIT = 'km',\n\n    /**\n     * Calculations module reference.\n     *\n     * @memberof app.common.calculations\n     * @private\n     * @type {object}\n     */\n    calculations = null;\n\n    // create namespace for the module\n    app.common = app.common || {};\n    app.common.calculations = app.common.calculations || {};\n    calculations = app.common.calculations;\n\n    /**\n     * Converts the number value expressed in radians to degrees.\n     *\n     * @private\n     * @param {number} value\n     * @returns {number}\n     */\n    function toDegrees(value) {\n        return value * 180 / Math.PI;\n    }\n\n    /**\n     * Converts the number value expressed in degrees to radians.\n     *\n     * @private\n     * @param {number} value\n     * @returns {number}\n     */\n    function toRadians(value) {\n        return value * Math.PI / 180;\n    }\n\n    /**\n     * Formats distance value to be displayed in meters or kilometers.\n     *\n     * @private\n     * @param {number} distance Distance in meters.\n     * @returns {number}\n     */\n    function formatDistance(distance) {\n        if (distance >= 1000) {\n            distance /= 1000;\n        }\n        return distance.toFixed(0);\n    }\n\n    /**\n     * Formats unit value to represent meters or kilometers.\n     *\n     * @private\n     * @param {number} distance Distance in meters.\n     * @returns {string}\n     */\n    function formatUnit(distance) {\n        if (distance >= 1000) {\n            return KILOMETERS_UNIT;\n        }\n        return METERS_UNIT;\n    }\n\n    /**\n     * Calculates the angle based on the start and destination position.\n     *\n     * @memberof app.common.calculations\n     * @public\n     * @param {object} start\n     * @param {number} start.latitude\n     * @param {number} start.longitude\n     * @param {object} destination\n     * @param {number} destination.latitude\n     * @param {number} destination.longitude\n     * @returns {number}\n     */\n    calculations.calculateAngle = function calculateAngle(start, destination) {\n        var sLon = toRadians(start.longitude),\n            dLon = toRadians(destination.longitude),\n            sLat = toRadians(start.latitude),\n            dLat = toRadians(destination.latitude),\n            deltaLon = dLon - sLon;\n\n        if (deltaLon > Math.PI) {\n            deltaLon -= 2 * Math.PI;\n        } else if (deltaLon < -Math.PI) {\n            deltaLon += 2 * Math.PI;\n        }\n\n        return toDegrees((Math.atan2(\n            deltaLon,\n            Math.log(\n                Math.tan(dLat / 2 + Math.PI / 4) /\n                Math.tan(sLat / 2 + Math.PI / 4)\n            )\n        )));\n    };\n\n    /**\n     * Calculates the distance between two positions\n     * based on its coordinates.\n     *\n     * @memberof app.common.calculations\n     * @public\n     * @see http://www.sunearthtools.com/tools/distance.php\n     * @param {object} start\n     * @param {number} start.latitude\n     * @param {number} start.longitude\n     * @param {object} destination\n     * @param {number} destination.latitude\n     * @param {number} destination.longitude\n     * @returns {number}\n     */\n    calculations.calculateDistance =\n            function calculateDistance(start, destination) {\n        var sLon = toRadians(start.longitude),\n            dLon = toRadians(destination.longitude),\n            sLat = toRadians(start.latitude),\n            dLat = toRadians(destination.latitude),\n            distance = EARTH_RADIUS *\n                Math.acos(\n                    Math.sin(sLat) * Math.sin(dLat) +\n                    Math.cos(sLat) * Math.cos(dLat) * Math.cos(dLon - sLon)\n                );\n\n        return {\n            raw: distance,\n            formatted: formatDistance(distance),\n            unit: formatUnit(distance)\n        };\n    };\n\n    /**\n     * Obtains angle from rotation.\n     *\n     * @memberof app.common.calculations\n     * @param {number} value\n     * @returns {number}\n     */\n    calculations.angleFromRotation = function angleFromRotation(value) {\n        var angle = -value % 360;\n\n        if (angle < 0) {\n            angle += 360;\n        }\n\n        return angle;\n    };\n\n    /**\n     * Calculates angle for navigation path indicator.\n     *\n     * @memberof app.common.calculations\n     * @param {number} partialPath\n     * @param {number} totalPath\n     * @param {number} totalAngle\n     * @returns {number}\n     */\n    calculations.calculatePathAngle =\n        function calculatePathAngle(partialPath, totalPath, totalAngle) {\n\n        return partialPath * totalAngle / totalPath;\n    };\n\n})(window.app);\n","/*\n * Copyright (c) 2015 Samsung Electronics Co., Ltd. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* global window*/\n\n/**\n * Application common events module.\n * Provides common methods related to events triggering.\n *\n * @module app.common.events\n * @namespace app.common.events\n * @memberof app.common\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n// strict mode wrapper function\n(function defineAppCommonEvents(app) {\n    'use strict';\n\n    /**\n     * Events module reference.\n     *\n     * @memberof app.common\n     * @private\n     * @type {object}\n     */\n    var events = null;\n\n    // create namespace for the module\n    app.common = app.common || {};\n    app.common.events = app.common.events || {};\n    events = app.common.events;\n\n    /**\n     * Dispatches an event.\n     *\n     * @memberof app.common.events\n     * @public\n     * @param {string} eventName Event name.\n     * @param {*} data Detailed data.\n     */\n    events.dispatchEvent = function dispatchEvent(eventName, data) {\n        var customEvent = new window.CustomEvent(eventName, {\n            detail: data\n        });\n\n        window.dispatchEvent(customEvent);\n    };\n\n})(window.app);\n","/*\n * Copyright (c) 2015 Samsung Electronics Co., Ltd. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*global console, window, tizen*/\n\n/**\n * Application battery model module.\n * It is responsible for obtaining information about device battery state.\n *\n * @module app.model.battery\n * @requires {@link app.common.events}\n * @namespace app.model.battery\n * @memberof app.model\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n(function defineAppModelBattery(app) {\n    'use strict';\n\n        /**\n         * Battery model module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        var modelBattery = null,\n\n        /**\n         * Common events module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        commonEvents = app.common.events,\n\n        driver = null;\n\n    // create namespace for the module\n    app.model = app.model || {};\n    app.model.battery = app.model.battery || {};\n    modelBattery = app.model.battery;\n\n    /**\n     * Initializes the battery model module.\n     *\n     * @memberof app.model.battery\n     * @public\n     */\n    modelBattery.init = function init(driver) {\n        driver = driver;\n        driver.init();\n    };\n\n})(window.app);\n","/*\n * Copyright (c) 2015 Samsung Electronics Co., Ltd. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*global window, console, navigator, setTimeout*/\n\n/**\n * Application geolocation model module.\n * It is responsible for providing information about user location.\n *\n * @module app.model.geolocation\n * @requires {@link app.common.events}\n * @requires {@link app.common.calculations}\n * @namespace app.model.geolocation\n * @memberof app.model\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n(function defineAppModelGeolocation(app) {\n    'use strict';\n\n    /**\n     * Geolocation checking interval (in milliseconds).\n     *\n     * @private\n     * @const {number}\n     */\n    var GEO_CHECKING_INTERVAL = 1000,\n\n        /**\n         * Geolocation checking counter.\n         * Defines max number of checking interval occurrences.\n         *\n         * @private\n         * @const {number}\n         */\n        GEO_CHECKING_COUNTER = 5,\n\n        /**\n         * Geolocation model module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        modelGeolocation = null,\n\n        /**\n         * Common events module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        commonEvents = app.common.events,\n\n        /**\n         * Common calculations module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        commonCalculations = app.common.calculations,\n\n        /**\n         * Geolocation API object.\n         *\n         * @private\n         * @type {object}\n         */\n        geolocation = null,\n\n        /**\n         * Current position data.\n         *\n         * @private\n         * @type {Position}\n         */\n        currentPosition = null,\n\n        /**\n         * Stores information about number of checking interval occurrences.\n         *\n         * @private\n         * @type {number}\n         */\n        checkingCounter = 0;\n\n    // create namespace for the module\n    app.model = app.model || {};\n    app.model.geolocation = app.model.geolocation || {};\n    modelGeolocation = app.model.geolocation;\n\n    /**\n     * Checks if the current position is equal to the one given as parameter.\n     * Returns true if it is, false otherwise.\n     *\n     * @param {Position} position\n     * @returns {boolean}\n     */\n    function isPositionEqual(position) {\n        if (currentPosition &&\n            (currentPosition.coords.latitude === position.coords.latitude ||\n            currentPosition.coords.longitude === position.coords.longitude)) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Performs action on get current position success.\n     *\n     * @private\n     * @param {Position} position\n     * @fires model.geolocation.current.position.changed\n     * @fires model.geolocation.current.destination.reached\n     * @fires model.geolocation.position.available\n     */\n    function onGetCurrentPositionSuccess(position) {\n        if (!isPositionEqual(position)) {\n            currentPosition = position;\n            commonEvents.dispatchEvent(\n                'model.geolocation.current.position.changed'\n            );\n        }\n        commonEvents.dispatchEvent('model.geolocation.position.available');\n        checkingCounter = 0;\n        //setTimeout(getGeoPosition, GEO_CHECKING_INTERVAL);\n    }\n\n    /**\n     * Performs action on get current position error.\n     *\n     * @private\n     * @fires model.geolocation.position.unavailable\n     * @fires model.geolocation.position.lost\n     */\n    function onGetCurrentPositionError(error) {\n        commonEvents.dispatchEvent('model.geolocation.position.unavailable');\n        checkingCounter += 1;\n        if (checkingCounter === GEO_CHECKING_COUNTER) {\n            commonEvents.dispatchEvent('model.geolocation.position.lost');\n        }\n\n        console.warn(error);\n        //setTimeout(getGeoPosition, GEO_CHECKING_INTERVAL);\n    }\n\n    /**\n     * Uses Geolocation API in order to obtain information\n     * about changes of the current position.\n     *\n     * @private\n     */\n    function getGeoPosition() {\n        try {\n            geolocation.watchPosition(\n                onGetCurrentPositionSuccess,\n                onGetCurrentPositionError,\n                {\n                    maximumAge :GEO_CHECKING_INTERVAL,\n                    enableHighAccuracy: true,\n                    timeout: GEO_CHECKING_INTERVAL\n                }\n            );\n        } catch (error) {\n            console.warn('Couldn\\'t get geolocation position.', error);\n        }\n    }\n\n    /**\n     * Returns current position.\n     *\n     * @memberof app.model.geolocation\n     * @public\n     * @returns {object}\n     */\n    modelGeolocation.getCurrentPosition = function getCurrentPosition() {\n        return currentPosition;\n    };\n\n\n    /**\n     * Initializes the geolocation model module.\n     *\n     * @memberof app.model.geolocation\n     * @public\n     * @fires model.geolocation.available\n     * @fires model.geolocation.unavailable\n     */\n    modelGeolocation.init = function init() {\n        if (navigator.geolocation) {\n            geolocation = navigator.geolocation;\n            commonEvents.dispatchEvent('model.geolocation.available');\n            getGeoPosition();\n        } else {\n            commonEvents.dispatchEvent('model.geolocation.unavailable');\n        }\n    };\n\n})(window.app);\n","/*\n * Copyright (c) 2015 Samsung Electronics Co., Ltd. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*global window, console, tizen*/\n\n/**\n * Application network model module.\n * It is responsible for providing information about user location.\n *\n * @module app.model.network\n * @requires {@link app.common.events}\n * @namespace app.model.network\n * @memberof app.model\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n(function defineAppModelNetwork(app) {\n    'use strict';\n\n        /**\n         * Common events module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        var commonEvents = app.common.events,\n\n        modelNetwork = null;\n\n    // create namespace for the module\n    app.model = app.model || {};\n    app.model.network = app.model.network || {};\n    modelNetwork = app.model.network;\n    modelNetwork.driver = null;\n\n\n    /**\n     * Checks available network type.\n     *\n     * @private\n     */\n    function checkNetworkType() {\n        return modelNetwork.driver.checkNetworkType();\n    }\n\n    /**\n     * Checks whether the network type has different value than 'NONE'.\n     *\n     * @memberof app.model.network\n     * @public\n     * @returns {boolean}\n     */\n    modelNetwork.isNetworkAvailable = function isNetworkAvailable() {\n        return modelNetwork.driver.isNetworkAvailable();\n    };\n\n    /**\n     * Returns available network type;\n     *\n     * @memberof app.model.network\n     * @public\n     * @returns {string}\n     */\n    modelNetwork.getNetworkType = function getNetworkType() {\n        return modelNetwork.driver.getNetworkType();\n    };\n\n    /**\n     * Initializes the network model module.\n     *\n     * @memberof app.model.network\n     * @public\n     */\n    modelNetwork.init = function init(driver) {\n        modelNetwork.driver = driver;\n        modelNetwork.driver.init();\n    };\n\n})(window.app);\n","/*global window, console, geolocation, setTimeout*/\n\n/**\n * Application sync model module.\n * It is responsible for syncing workouts with the server.\n *\n * @module app.model.geolocation\n * @requires {@link app.common.events}\n * @requires {@link app.common.calculations}\n * @namespace app.model.geolocation\n * @memberof app.model\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n(function defineAppModelSync(app) {\n    'use strict';\n\n        /**\n         * Workout model module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        var modelSync = null,\n\n        /**\n         * Geolocation model module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        modelWorkout = app.model.workout,\n\n        /**\n         * Common events module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        commonEvents = app.common.events,\n\n        modelNetwork = app.model.network,\n\n        syncUrls = {\n            login: '',\n            upload: ''\n        };\n\n    // create namespace for the module\n    app.model = app.model || {};\n    app.model.sync = app.model.sync || {};\n    modelSync = app.model.sync;\n\n\n\n    /**\n     * Registers event listeners.\n     *\n     * @private\n     */\n    function bindEvents() {\n        window.addEventListener(\n            'model.workout.getlist.successful',\n            function(e){\n                e.stopPropagation();\n                var workouts = e.detail;\n                uploadWorkouts(workouts);\n            },\n            'model.workout.getlist.failed',\n            function(e){\n                e.stopPropagation();\n                commonEvents.dispatchEvent('model.sync.upload.failed');\n            }\n        );\n    }\n\n    function getToken(){\n        return localStorage.getItem('token');\n    }\n\n    function createAuthHeader(){\n        var token = getToken() || '',\n            header = {\n                key: 'Authorization',\n                value: 'Bearer ' + token,\n            };\n\n        return token.length ? header : false;\n    }\n\n    /**\n     * Initializes the workout model module.\n     *\n     * @memberof app.model.workout\n     * @public\n     * @fires model.sync.login.successful\n     * @fires model.sync.login.failed\n     * @param {string} loginUrl\n     * @param {string} uploadUrl\n     */\n    modelSync.init = function init(loginUrl, uploadUrl) {\n        syncUrls.login = loginUrl;\n        syncUrls.upload = uploadUrl;\n\n        bindEvents();\n    };\n\n    modelSync.login = function login(email, password) {\n        var client = new XMLHttpRequest(),\n            localStorage = window.localStorage;\n\n        /* Check the response status */\n        client.onreadystatechange = function() {\n            if (client.readyState == 4) {\n                if (client.status == 200) {\n\n                    localStorage.setItem('token', JSON.parse(client.response));\n                    commonEvents.dispatchEvent('model.sync.login.successful', { token: client.response });\n                }\n                else {\n                    commonEvents.dispatchEvent('model.sync.login.failed');\n                }\n            }\n        };\n\n    \tclient.onerror = function(e) {\n\t\t\tconsole.log(e);\n        };\n\n        var data = \"email=\" + email + \"&\" + \"password=\" + password;\n\n        client.open('POST', syncUrls.login, true);\n        client.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        client.send(data); /* Send to server */\n\n    };\n\n    modelSync.sync = function(){\n        // Disabled until network availability is fixed for cordova\n        // if( modelNetwork.isNetworkAvailable() ){\n            modelWorkout.getItemsToSync();\n        // }\n\n    }\n\n    function uploadWorkouts(workouts){\n        var client = new XMLHttpRequest(),\n            authHeaders = createAuthHeader();\n\n            if(authHeaders === false){\n                commonEvents.dispatchEvent('model.sync.login.required');\n               return false;\n            }\n\n            /* Check the response status */\n            client.onreadystatechange = function() {\n                if (client.readyState == 4){\n                    console.log('Response: ' + client.status);\n                    switch(client.status){\n                        case 200:\n                            modelWorkout.clear();\n                            commonEvents.dispatchEvent('model.sync.upload.successful', true);\n                            break;\n                        case 401:\n                            commonEvents.dispatchEvent('model.sync.login.required');\n                            break;\n                        default:\n                            commonEvents.dispatchEvent('model.sync.upload.failed');\n                            break;\n                    }\n                }\n            };\n\n            client.open('POST', syncUrls.upload, true);\n\n            var payload = JSON.stringify({ data: workouts });\n\n            client.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n            client.setRequestHeader(\"Accept\", \"application/json\");\n            client.setRequestHeader(authHeaders.key, authHeaders.value);\n            console.log('Sending data to the server');\n            client.send(payload); /* Send to server */\n    }\n\n})(window.app);\n","import {CyclingWorkout} from \"../workout/app.workout.cycling_workout\";\nimport {RunningWorkout} from \"../workout/app.workout.running_workout\";\nimport {WORKOUT_TYPE_CYCLING, WORKOUT_TYPE_RUNNING} from \"../workout/app.workout.base_workout\";\n\nrequire('../common/app.common.calculations');\n/*global window, console, geolocation, setTimeout*/\n\n/**\n * Application geolocation model module.\n * It is responsible for providing information about user location.\n *\n * @module app.model.geolocation\n * @requires {@link app.common.events}\n * @requires {@link app.common.calculations}\n * @namespace app.model.geolocation\n * @memberof app.model\n */\n\n// make sure that \"app\" namespace is created\nwindow.app = window.app || {};\n\n(function defineAppModelWorkout(app) {\n    'use strict';\n\n    /**\n     * Geolocation checking interval (in milliseconds).\n     *\n     * @private\n     * @const {number}\n     */\n\n        /**\n         * Workout model module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        var modelWorkout = null,\n\n        /**\n         * Geolocation model module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        modelGeolocation = app.model.geolocation,\n\n        /**\n         * Common events module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        commonEvents = app.common.events,\n\n        /**\n         * Common calculations module reference.\n         *\n         * @private\n         * @type {object}\n         */\n        commonCalculations = app.common.calculations,\n\n        hardwareDriver = null,\n\n        /**\n         * Started flag.\n         *\n         * @private\n         * @type boolean\n         */\n        active = false,\n\n        /**\n         * Count the segments (pause and resume).\n         *\n         * @private\n         * @type int\n         */\n        segmentIndex = 0,\n\n        /**\n         * Workout data.\n         *\n         * @private\n         * @type {BaseWorkout}\n         */\n        workout = null,\n\n        workoutDB = null,\n\n        // Milliseconds per meter to kilometers per hour\n        MPS_TO_KMH = 3600, // hour = 3600 * 1000 milliseconds / kilometer = 1000 meters\n\n        // Milliseconds per meter to minutes per kilometer\n        MSEC_PER_METER_TO_MIN_PER_KM = 60,// Minute = 60 * 1000  millisecond / kilometer = 1000 meters\n        isDBready = false;\n\n    // create namespace for the module\n    app.model = app.model || {};\n    app.model.workout = app.model.workout || {};\n    modelWorkout = app.model.workout;\n\n    modelWorkout.WORKOUT_TYPE_RUNNING = 1;\n    modelWorkout.WORKOUT_TYPE_CYCLING = 2;\n\n    modelWorkout.WORKOUT_STATUS_UNSAVED = 0;\n    modelWorkout.WORKOUT_STATUS_SAVED = 1;\n    modelWorkout.WORKOUT_STATUS_SYNCED = 2;\n\n\n    /**\n     * Handles model.geolocation.position.available event.\n     *\n     * @private\n     * @fires model.workout.updateui\n     */\n    function updateUI(){\n        if( workout.points.length > 1) {\n            var currentPosition = workout.points[workout.points.length - 1],\n                lastPosition = workout.points[workout.points.length - 2],\n                distance = commonCalculations.calculateDistance(\n                    {latitude: lastPosition.lat, longitude: lastPosition.lng},\n                    {latitude: currentPosition.lat, longitude: currentPosition.lng}\n                );\n\n            if( distance.raw > 0.1 ){\n                var timediff = currentPosition.time - lastPosition.time,\n                speed = timediff ? MPS_TO_KMH * distance.raw / timediff : 0,\n                pace = ( timediff / distance.raw ) / MSEC_PER_METER_TO_MIN_PER_KM,\n                heartRate = currentPosition.heart_rate,\n                altitude = currentPosition.elevation;\n\n                workout.distance += distance.raw;\n\n                var data = {\n                    distance: workout.distance / 1000,\n                    speed: speed,\n                    heartRate: heartRate,\n                    altitude: altitude\n                };\n\n\n                commonEvents.dispatchEvent('model.workout.updateui', data);\n            }\n\n        }\n\n    }\n\n    /**\n     * Handles model.geolocation.position.available event.\n     *\n     * @private\n     */\n    function onModelGeolocationPositionAvailable() {\n        var currentPosition = modelGeolocation.getCurrentPosition();\n\n        if(workout && workout.isActive()){\n            var point = new Point(\n                0,\n                currentPosition.coords.latitude,\n                currentPosition.coords.longitude,\n                0,\n                currentPosition.coords.altitude,\n                currentPosition.timestamp\n            );\n\n            workout.addPoint(point);\n            updateUI();\n        }\n    }\n\n    /**\n     * Registers event listeners.\n     *\n     * @private\n     */\n    function bindEvents() {\n        window.addEventListener(\n            'model.geolocation.position.available',\n            onModelGeolocationPositionAvailable\n        );\n    }\n\n    function initDatabase() {\n        workoutDB = new IDBStore({\n            dbVersion: 1,\n            storeName: 'workouts',\n            keyPath: 'id',\n            autoIncrement: true,\n            onStoreReady: function(){\n                commonEvents.dispatchEvent('model.workout.dbready');\n                isDBready = true;\n\n            }\n        });\n    }\n    /**\n     * Initializes the workout model module.\n     *\n     * @memberof app.model.workout\n     * @public\n     * @fires model.geolocation.available\n     * @fires model.geolocation.unavailable\n     */\n    modelWorkout.init = function init(driver) {\n        hardwareDriver = driver;\n        hardwareDriver.init();\n        bindEvents();\n        initDatabase();\n    };\n\n    modelWorkout.start = function start(type) {\n        switch(type){\n            case WORKOUT_TYPE_CYCLING:\n                workout = new CyclingWorkout();\n                break;\n            case WORKOUT_TYPE_RUNNING:\n                workout = new RunningWorkout();\n                break;\n        }\n\n        workout.start();\n        hardwareDriver.backgroundRunEnable();\n    };\n\n    /**\n     *\n     * @fires model.workout.paused\n     */\n    modelWorkout.togglePause = function togglePause(){\n        if(!workout.isActive()){\n            commonEvents.dispatchEvent('model.workout.resumed');\n            hardwareDriver.backgroundRunEnable();\n        }\n        else{\n            commonEvents.dispatchEvent('model.workout.paused');\n            hardwareDriver.backgroundRunDisable();\n        }\n        workout.pause();\n\n    };\n\n    modelWorkout.save = function save(){\n        workout.save();\n\n        var onsuccess = function(id){\n            console.log('Successfully inserted! insertId is: ' + id);\n            commonEvents.dispatchEvent('model.workout.save.successful', true);\n        };\n        var onerror = function(error){\n            console.log('Workout save failed!', error);\n            commonEvents.dispatchEvent('model.workout.save.failed');\n        };\n\n        workoutDB.put(workout.toObject(), onsuccess, onerror);\n\n        return false;\n    };\n\n    modelWorkout.clear = function clear(){\n        var onsuccess = function () {\n            console.log('Database celared');\n            commonEvents.dispatchEvent('model.workout.clear.successful');\n        };\n        var onerror = function (error) {\n            console.log('Database clear failed!', error);\n            commonEvents.dispatchEvent('model.workout.clear.failed');\n        };\n\n        workoutDB.clear(onsuccess, onerror);\n    };\n\n    modelWorkout.getList = function getList( status ) {\n        var onsuccess = function (data) {\n            data = data.filter(function(item){\n                return item.status == status;\n            });\n\n            commonEvents.dispatchEvent('model.workout.getlist.successful', data);\n        };\n        var onerror = function (error) {\n            console.log('Workout save failed!', error);\n            commonEvents.dispatchEvent('model.workout.getlist.failed');\n        };\n\n        workoutDB.getAll(onsuccess, onerror);\n    };\n\n    modelWorkout.getItemsToSync = function getItemsToSync( ) {\n        return modelWorkout.getList( modelWorkout.WORKOUT_STATUS_SAVED );\n    };\n\n    modelWorkout.getWorkout = function getWorkout() {\n        return workout;\n    };\n\n})(window.app);\n","require('../app.drivers.battery')\n\n;(function(root){\n    var BatteryDriverAndroid = function(){\n    };\n\n    var proto = new BatteryDriver();\n\n    proto.bind = function(){\n        var _this = this;\n\n        document.addEventListener(\"deviceready\", function(){\n            window.addEventListener(\"batterystatus\", onBatteryStatus, false);\n\n            function onBatteryStatus(status) {\n                _this.level = status.level;\n            }\n\n            window.addEventListener(\"batterylow\", onBatteryLow, false);\n\n            function onBatteryLow(status) {\n                _this.commonEvents.dispatchEvent('model.battery.low');\n            }\n        }, false);\n    }\n\n    BatteryDriverAndroid.prototype = proto;\n    root.BatteryDriverAndroid = BatteryDriverAndroid;\n})(window);\n","require('../app.drivers.hardware')\n\n;(function(root){\n    var HardwareDriverAndroid = function(){\n        this.commonEvents = window.app.common.events;\n    };\n\n    var proto = new HardwareDriver();\n\n        proto.bind = function(){\n            document.addEventListener(\"deviceready\", function(){\n                cordova.plugins.backgroundMode.on('activate', function() {\n                   cordova.plugins.backgroundMode.disableWebViewOptimizations();\n                });\n\n                window.addEventListener(\n                    'model.workout.updateui',\n                    function(e){\n                        var distance = e.detail.distance;\n\n                        if(cordova.plugins.backgroundMode.isActive()){\n                            cordova.plugins.backgroundMode.configure({\n                                text: 'Workout active, distance: ' + Math.round(distance * 100) / 100 + ' km'\n                            });\n                        }\n                    }\n                );\n            });\n        };\n        proto.isHeartRateAvailable = function () {\n            return false;\n        };\n        proto.backgroundRunEnable = function () {\n            cordova.plugins.backgroundMode.enable();\n        };\n        proto.backgroundRunDisable = function () {\n            cordova.plugins.backgroundMode.disable();\n        };\n\n    HardwareDriverAndroid.prototype = proto;\n    root.HardwareDriverAndroid = HardwareDriverAndroid;\n})(window);\n","require('../app.drivers.network')\n\n;(function(root){\n    var NetworkDriverAndroid = function(){\n\n    };\n\n    var proto = new NetworkDriver();\n\n    proto.bind = function(){\n        var _this = this;\n\n        document.addEventListener(\"offline\",\n        function(){\n            _this.onNetworkTypeChange()\n        }, false);\n        document.addEventListener(\"online\",\n        function(){\n            _this.onNetworkTypeChange()\n        }, false);\n    };\n\n    proto.isNetworkAvailable = function () {\n        return navigator.connection.type !== Connection.NONE;\n    };\n\n    proto.onNetworkTypeChange = function(network) {\n        this.networkType = navigator.connection.type;\n        this.commonEvents.dispatchEvent('model.network.type.changed');\n    };\n\n    proto.onGetNetworkTypeSuccess = function(network) {\n        this.networkType = navigator.connection.type;\n        this.commonEvents.dispatchEvent('model.network.initialized');\n    };\n\n    NetworkDriverAndroid.prototype = proto;\n    root.NetworkDriverAndroid = NetworkDriverAndroid;\n})(window);\n","require('./android/app.drivers.android.battery');\nrequire('./android/app.drivers.android.network');\nrequire('./android/app.drivers.android.hardware');\nrequire('./tizen/app.drivers.tizen.battery');\nrequire('./tizen/app.drivers.tizen.network');\nrequire('./tizen/app.drivers.tizen.hardware');\n\n;(function(root){\n    var DriverFactory = function(platform){\n        this.platform = platform;\n    };\n\n    DriverFactory.prototype = {\n        buildNetworkDriver: function(){\n            var networkDriver = new NetworkDriver();\n\n            switch(this.platform){\n                case Platform.PLATFORM_TIZEN:\n                    networkDriver = new NetworkDriverTizen();\n                    break;\n                case Platform.PLATFORM_ANDROID:\n                    networkDriver = new NetworkDriverAndroid();\n                    break;\n            }\n\n            return networkDriver;\n        },\n        buildBatteryDriver: function(){\n            var batteryDriver = new BatteryDriver();\n\n            switch(this.platform){\n                case Platform.PLATFORM_TIZEN:\n                    batteryDriver = new BatteryDriverTizen();\n                    break;\n                case Platform.PLATFORM_ANDROID:\n                    batteryDriver = new BatteryDriverAndroid();\n                    break;\n            }\n\n            return batteryDriver;\n        },\n        buildHardwareDriver: function(){\n            var hardwareDriver = new HardwareDriver();\n\n            switch(this.platform){\n                case Platform.PLATFORM_TIZEN:\n                    hardwareDriver = new HardwareDriverTizen();\n                    break;\n                case Platform.PLATFORM_ANDROID:\n                    hardwareDriver = new HardwareDriverAndroid();\n                    break;\n            }\n\n            return hardwareDriver;\n        }\n    };\n\n    root.DriverFactory = DriverFactory;\n})(window);\n",";(function(root){\n    var BatteryDriver = function(){\n        this.level = null;\n        this.commonEvents = window.app.common.events;\n    };\n\n    BatteryDriver.prototype = {\n        init: function(){\n            this.bind();\n        },\n        bind: function(){\n\n        }\n    };\n\n    root.BatteryDriver = BatteryDriver;\n})(window);\n",";(function(root){\n    var HardwareDriver = function(){\n        this.commonEvents = window.app.common.events;\n    };\n\n    HardwareDriver.prototype = {\n        init: function(){\n            this.bind();\n        },\n        bind: function(){\n\n        },\n        isHeartRateAvailable: function () {\n            return false;\n        },\n        backgroundRunEnable: function () {\n\n        },\n        backgroundRunDisable: function () {\n\n        }\n    };\n\n    root.HardwareDriver = HardwareDriver;\n})(window);\n",";(function(root){\n    var NetworkDriver = function(){\n        this.commonEvents = window.app.common.events;\n        this.networkType = 'NONE';\n    };\n\n    var NETWORKS = ['2G', '2.5G', '3G', '4G', 'WIFI', 'ETHERNET', 'UNKNOWN'];\n\n    NetworkDriver.prototype = {\n        init: function(){\n            this.bind();\n        },\n        bind: function(){\n\n        },\n        isNetworkAvailable: function () {\n            return NETWORKS.indexOf(this.networkType) !== -1;\n        },\n        getNetworkType: function () {\n            return this.networkType;\n        }\n    };\n\n    root.NetworkDriver = NetworkDriver;\n})(window);\n",";(function(root){\n    var Platform = {\n        PLATFORM_TIZEN: 'tizen',\n        PLATFORM_ANDROID: 'android',\n        PLATFORM_BROWSER: 'browser',\n\n        get: function(){\n            var platform = this.PLATFORM_BROWSER;\n\n            if( typeof tizen === 'object' && typeof tizen.systeminfo === 'object'){\n                platform = this.PLATFORM_TIZEN;\n            }\n            else if(typeof device === 'object' && device.platform === 'android'){\n                platform = this.PLATFORM_ANDROID;\n            }\n\n            return platform;\n        }\n    };\n\n    root.Platform = Platform;\n})(window);\n","require('../app.drivers.battery')\n\n;(function(root){\n    var BatteryDriverTizen = function(){\n\n    };\n\n    var proto = new BatteryDriver();\n\n    proto.bind = function(){\n        var _this = this,\n            systeminfo = null;\n\n        if (typeof tizen === 'object' && typeof tizen.systeminfo === 'object') {\n            var systeminfo = tizen.systeminfo;\n        } else {\n            console.warn('tizen.systeminfo not available');\n        }\n        try {\n            systeminfo.addPropertyValueChangeListener(\n                'BATTERY',\n                function change(battery) {\n                    _this.level = battery.level;\n\n                    if (!battery.isCharging && battery.level < _this.LOW_BATTERY) {\n                        _this.commonEvents.dispatchEvent('model.battery.low');\n                    }\n                },\n                null,\n                function errorCallback(error) {\n                    console.warn('Battery state listener was not set.', error);\n                }\n            );\n        } catch (error) {\n            console.warn('Battery state listener was not set.', error);\n        }\n    }\n\n    BatteryDriverTizen.prototype = proto;\n    root.BatteryDriverTizen = BatteryDriverTizen;\n})(window);\n","require('../app.drivers.hardware')\n\n;(function(root){\n    var HardwareDriverTizen = function(){\n        this.commonEvents = window.app.common.events;\n    };\n\n    var proto = new HardwareDriver();\n\n        proto.bind = function(){\n\n        };\n        proto.isHeartRateAvailable = function () {\n            return false;\n        };\n        proto.backgroundRunEnable = function () {\n            tizen.power.request(\"CPU\", \"CPU_AWAKE\");\n            tizen.power.request('SCREEN', 'SCREEN_NORMAL');\n        };\n        proto.backgroundRunDisable = function () {\n            tizen.power.release(\"CPU\");\n            tizen.power.release('SCREEN');\n        };\n\n    HardwareDriverTizen.prototype = proto;\n    root.HardwareDriverTizen = HardwareDriverTizen;\n})(window);\n","require('../app.drivers.network')\n\n;(function(root){\n    var NetworkDriverTizen = function(){\n\n    };\n\n    var proto = new NetworkDriver();\n\n    proto.bind = function(){\n        var _this = this,\n            systeminfo = null;\n\n        if (typeof tizen === 'object' && typeof tizen.systeminfo === 'object') {\n            var systeminfo = tizen.systeminfo;\n        } else {\n            console.warn('tizen.systeminfo not available');\n        }\n\n        try {\n            systeminfo.getPropertyValue(\n                'NETWORK',\n                function(network){\n                    _this.onGetNetworkTypeSuccess(network);\n                },\n                function onGetPropertyValueError(error) {\n                    console.warn('Couldn\\'t get network type value.', error);\n                }\n            );\n        } catch (error) {\n            console.warn('Couldn\\'t get network type value.', error);\n        }\n\n        try {\n            systeminfo.addPropertyValueChangeListener(\n                'NETWORK',\n            function(network){\n                _this.onNetworkTypeChange(network);\n            }\n        );\n        } catch (error) {\n            console.warn('Network change listener was not set.', error);\n        }\n\n    };\n\n    proto.onNetworkTypeChange = function(network) {\n        this.networkType = network.networkType;\n        this.commonEvents.dispatchEvent('model.network.type.changed');\n    };\n\n    proto.onGetNetworkTypeSuccess = function(network) {\n        this.networkType = network.networkType;\n        this.commonEvents.dispatchEvent('model.network.initialized');\n    };\n\n    NetworkDriverTizen.prototype = proto;\n    root.NetworkDriverTizen = NetworkDriverTizen;\n})(window);\n","require('../common/app.common.events');\n\nrequire('./drivers/app.drivers.platform');\nrequire('./drivers/app.driver.factory');\n\nrequire('./app.model.battery');\nrequire('./app.model.network');\nrequire('./app.model.geolocation');\nrequire('./app.model.workout');\nrequire('./app.model.sync');","require('./app.workout.point');\nrequire('../common/app.common.calculations');\n\nvar WORKOUT_STATUS_UNSAVED = 0,\n    WORKOUT_STATUS_SAVED = 1,\n\n    WORKOUT_STATE_STOPPED = 0,\n    WORKOUT_STATE_RUNNING = 1,\n    WORKOUT_STATE_PAUSED = 2,\n    WORKOUT_STATE_AUTOPAUSED = 3;\n\nexport const WORKOUT_TYPE_RUNNING = 1;\nexport const WORKOUT_TYPE_CYCLING = 2;\n\n/**\n * @class BaseWorkout\n * @constructor\n */\nclass BaseWorkout {\n\n    constructor() {\n        this.type = null;\n        this.status = WORKOUT_STATUS_UNSAVED;\n\n        /** @member {Point[]} **/\n        this._points = [];\n        this._distance = 0;\n\n        this._segmentIndex = 0;\n        this._state = WORKOUT_STATE_STOPPED;\n    }\n\n    init() {\n    }\n\n    start() {\n        this._state = WORKOUT_STATE_RUNNING;\n    }\n\n    pause() {\n        this._state = WORKOUT_STATE_PAUSED;\n        this._segmentIndex++;\n    }\n\n    save() {\n        this.status = WORKOUT_STATUS_SAVED;\n    }\n\n    /**\n     *\n     * @returns {boolean}\n     */\n    isActive() {\n        return this._state === WORKOUT_STATE_RUNNING;\n    }\n\n    /**\n     *\n     * @param {Point} point\n     */\n    addPoint(point) {\n        point.segment_index = this._segmentIndex;\n\n        this._points.push(point);\n\n        let points = this._getCalculationPoints();\n\n        if(points){\n            this.calculate(points.pointA, points.pointB);\n        }\n\n    }\n\n    /**\n     *\n     * @private\n     *\n     * @returns {?{pointA: Point, pointB: Point}}\n     */\n    _getCalculationPoints(){\n        let calculationPoints = null;\n\n        if(this._points.length >= 2){\n            calculationPoints =  {\n                pointA: this._points[this._points.length - 2],\n                pointB: this._points[this._points.length - 1]\n            }\n        }\n\n        return calculationPoints;\n\n    }\n\n    /**\n     *\n     * @param {Point} pointA\n     * @param {Point} pointB\n     * @returns {number}\n     */\n    _calculateDistance(pointA, pointB) {\n        let distance = window.app.common.calculations.calculateDistance(\n            {latitude: pointA.lat, longitude: pointA.lng},\n            {latitude: pointB.lat, longitude: pointB.lng}\n        );\n\n        this._distance = distance.raw;\n\n        return this._distance;\n    }\n\n    /**\n     * Calculate the params such as distance, speed, etc\n     *\n     * @param {Point} pointA\n     * @param {Point} pointB\n     */\n    calculate(pointA, pointB){\n\n    }\n\n\n\n    /**\n     *\n     * @returns {number}\n     */\n    get speed(){\n        return 0;\n    }\n\n    /**\n     *\n     * @returns {number}\n     */\n    get distance(){\n        return this._distance;\n    }\n\n    /**\n     *\n     * @param {number} distance\n     */\n    set distance(distance){\n        this._distance = distance;\n    }\n\n    /**\n     *\n     * @returns {Point[]}\n     */\n    get points(){\n        return this._points;\n    }\n\n    /**\n     *\n     * @returns {{type: int, status: int, points: Point[]}}\n     */\n    toObject() {\n        return {\n            type: this.type,\n            status: this.status,\n            points: this._points\n        }\n    }\n};\n\nexport {BaseWorkout};\n","import {BaseWorkout, WORKOUT_TYPE_CYCLING} from \"./app.workout.base_workout\";\n\n// Milliseconds per meter to kilometers per hour\nconst MPS_TO_KMH = 3600; // hour = 3600 * 1000 milliseconds / kilometer = 1000 meters\n\nclass CyclingWorkout extends BaseWorkout {\n    constructor() {\n        super();\n\n        this.type = WORKOUT_TYPE_CYCLING;\n\n        this._speed = 0;\n    }\n\n    /**\n     *\n     * @param {Point} pointA\n     * @param {Point} pointB\n     * @returns {number}\n     */\n    _calculateSpeed(pointA, pointB) {\n        let distance = this._calculateDistance(pointA, pointB),\n            timeDiff = pointB.time - pointA.time,\n            speed = timeDiff ? MPS_TO_KMH * distance / timeDiff : 0;\n\n        this._speed = speed;\n\n        return speed;\n    }\n\n    /**\n     * Calculate the params such as distance, speed, etc\n     *\n     * @param {Point} pointA\n     * @param {Point} pointB\n     */\n    calculate(pointA, pointB){\n        this._calculateSpeed(pointA, pointB);\n    }\n\n    /**\n     *\n     * @returns {number}\n     */\n    get speed(){\n        return this._speed;\n    }\n}\n\nexport {CyclingWorkout}",";(function(root){\n    /**\n     *\n     * @param {int} segmentIndex\n     * @param {number} lat\n     * @param {number} lng\n     * @param {int} heartRate\n     * @param {number} elevation\n     * @param {int} time\n     * @constructor\n     */\n    var Point = function(segmentIndex, lat, lng, heartRate, elevation, time){\n        this.segment_index = segmentIndex;\n        this.lat = lat;\n        this.lng = lng;\n        this.heart_rate = heartRate;\n        this.elevation = elevation;\n        this.time = time;\n    };\n\n    Point.prototype = {\n        init: function(){\n\n        }\n    };\n\n    root.Point = Point;\n})(window);\n","import {BaseWorkout, WORKOUT_TYPE_RUNNING} from \"./app.workout.base_workout\";\n\n// Milliseconds per meter to minutes per kilometer\nconst MSEC_PER_METER_TO_MIN_PER_KM = 60;// Minute = 60 * 1000  millisecond / kilometer = 1000 meters\n\n\nclass RunningWorkout extends BaseWorkout {\n    constructor() {\n        super();\n\n        this.type = WORKOUT_TYPE_RUNNING;\n\n        this._pace = 0;\n    }\n\n    /**\n     *\n     * @param {Point} pointA\n     * @param {Point} pointB\n     * @returns {number}\n     */\n    _calculatePace(pointA, pointB) {\n        let distance = this._calculateDistance(pointA, pointB),\n            timeDiff = pointB.time - pointA.time,\n            pace = ( timeDiff / distance ) / MSEC_PER_METER_TO_MIN_PER_KM;\n\n        this._pace = pace;\n\n        return this._pace;\n    }\n\n    /**\n     * Calculate the params such as distance, speed, etc\n     *\n     * @param {Point} pointA\n     * @param {Point} pointB\n     */\n    calculate(pointA, pointB){\n        this._calculatePace(pointA, pointB);\n    }\n\n    /**\n     *\n     * @returns {number}\n     */\n    get speed(){\n        return this._pace;\n    }\n}\n\n export {RunningWorkout};","describe(\"Sync\", function () {\n    var app = window.app || {};\n\n    var env = jasmine.getEnv();\n    env.randomizeTests(false);\n\n    app.model.sync.init(\n        'http://tracy.test/api/login',\n        'http://tracy.test/api/workouts'\n    );\n\n    beforeEach(function (done) {\n        var xmlhttp = new XMLHttpRequest(),\n            _this = this;\n\n        xmlhttp.onreadystatechange = function () {\n            if (this.readyState == 4 && this.status == 200) {\n                _this.waypoints = JSON.parse(this.responseText);\n                done();\n            }\n        };\n\n        xmlhttp.open(\"GET\", \"tests/data/455.json\", true);\n        xmlhttp.send();\n\n        this.modelWorkout = app.model.workout;\n        this.modelGeolocation = app.model.geolocation;\n        this.modelSync = app.model.sync;\n\n        var platform = Platform.get(),\n            driverFactory = new DriverFactory(platform);\n\n        this.modelWorkout.init(driverFactory.buildHardwareDriver(platform));\n\n        window.addEventListener(\n            'model.workout.dbready',\n            function(e){\n                _this.modelWorkout.clear();\n            });\n\n        this.runWorkout = function(doneCallback){\n            navigator.geolocation.delay = 1;\n            navigator.geolocation.repeat = false;\n            navigator.geolocation.waypoints = this.waypoints;\n\n            this.modelGeolocation.init();\n            this.modelWorkout.start(this.modelWorkout.WORKOUT_TYPE_RUNNING);\n\n            setTimeout( function(){\n                    _this.modelWorkout.togglePause();\n                    doneCallback();\n                },\n                300);\n        };\n\n    });\n\n    it('should login', function (done) {\n        window.addEventListener(\n            'model.sync.login.successful',\n            function(e){\n                e.stopPropagation();\n                expect(e.detail.hasOwnProperty('token')).toBeTruthy();\n                expect(e.detail.token.length > 0).toBeTruthy();\n                done();\n            });\n\n        this.modelSync.login( 'demo@email.com', '123123' );\n    });\n\n    it('should login with token and upload workouts', function (done) {\n        var _this = this;\n\n\n        window.addEventListener(\n            'model.sync.upload.successful',\n            function(e){\n                e.stopPropagation();\n                expect(e.detail).toBeTruthy();\n                done();\n            });\n\n        this.runWorkout(function(){\n            _this.modelWorkout.save();\n            _this.modelSync.sync();\n        });\n    });\n\n});\n","describe(\"Workout model\", function () {\n    var app = window.app || {};\n\n    var env = jasmine.getEnv();\n    env.randomizeTests(false);\n\n    beforeEach(function (done) {\n        var xmlhttp = new XMLHttpRequest(),\n            _this = this;\n\n        xmlhttp.onreadystatechange = function () {\n            if (this.readyState == 4 && this.status == 200) {\n                _this.waypoints = JSON.parse(this.responseText);\n                done();\n            }\n        };\n\n        xmlhttp.open(\"GET\", \"tests/data/455.json\", true);\n        xmlhttp.send();\n\n        this.modelWorkout = app.model.workout;\n        this.modelGeolocation = app.model.geolocation;\n\n        var platform = Platform.get(),\n            driverFactory = new DriverFactory(platform);\n\n        this.modelWorkout.init(driverFactory.buildHardwareDriver(platform));\n\n        window.addEventListener(\n            'model.workout.dbready',\n            function(e){\n                _this.modelWorkout.clear();\n            });\n\n        this.runWorkout = function(doneCallback){\n            navigator.geolocation.delay = 1;\n            navigator.geolocation.repeat = false;\n            navigator.geolocation.waypoints = this.waypoints;\n\n            this.modelGeolocation.init();\n            this.modelWorkout.start(this.modelWorkout.WORKOUT_TYPE_RUNNING);\n\n            setTimeout( function(){\n                    _this.modelWorkout.togglePause();\n                    doneCallback();\n                },\n                300);\n        };\n\n    });\n\n    it('should start and pause workout', function (done) {\n        var _this = this;\n\n        expect(typeof this.modelWorkout === 'object').toBeTruthy();\n\n        var pauseListener = function(e){\n            var workout = _this.modelWorkout.getWorkout();\n            expect(workout.points.length).toEqual(6);\n            window.removeEventListener('model.workout.paused', pauseListener);\n        };\n\n        window.addEventListener(\n            'model.workout.paused',\n            pauseListener\n        );\n\n        this.runWorkout(function(){\n            _this.modelWorkout.togglePause();\n            done();\n        });\n    });\n\n    it('should save the workout', function (done) {\n        var _this = this;\n\n        window.addEventListener(\n            'model.workout.save.successful',\n            function(e){\n                e.stopPropagation();\n                expect(e.detail).toBeTruthy();\n                done();\n            },\n            'model.workout.save.failed',\n            function(e){\n                e.stopPropagation();\n                expect(e.detail).toBeTruthy();\n                done();\n            }\n        );\n\n        this.runWorkout(function(){\n            _this.modelWorkout.save();\n        });\n    });\n\n    it('should load saved workouts', function (done) {\n        var _this = this;\n\n        window.addEventListener(\n            'model.workout.getlist.successful',\n            function(e){\n                e.stopPropagation();\n                expect(e.detail.length == 1).toBeTruthy();\n                expect(e.detail[0].status == _this.modelWorkout.WORKOUT_STATUS_SAVED).toBeTruthy();\n                done();\n            },\n            'model.workout.getlist.failed',\n            function(e){\n                e.stopPropagation();\n                done();\n            }\n        );\n\n        window.addEventListener(\n            'model.workout.save.successful',\n            function(e){\n                e.stopPropagation();\n                _this.modelWorkout.getList(_this.modelWorkout.WORKOUT_STATUS_SAVED);\n            },\n            'model.workout.save.failed',\n            function(e){\n                e.stopPropagation();\n                expect(e.detail).toBeTruthy();\n                done();\n            }\n        );\n\n        this.runWorkout(function(){\n            // _this.modelSync.sync = function(){};\n            _this.modelWorkout.save();\n        });\n    });\n\n    //it('should start the workout and update UI', function (done) {\n    //    var _this = this;\n    //\n    //    navigator.geolocation.delay = 1000;\n    //    navigator.geolocation.repeat = false;\n    //    navigator.geolocation.waypoints = this.waypoints;\n    //\n    //    this.modelGeolocation.init();\n    //    expect(typeof this.modelWorkout === 'object').toBeTruthy();\n    //    this.modelWorkout.start(this.modelWorkout.WORKOUT_TYPE_RUNNING);\n    //\n    //    window.addEventListener(\n    //        'model.workout.updateui',\n    //        function(e){\n    //            e.stopPropagation();\n    //            var data = e.detail;\n    //            console.log(data);\n    //        }\n    //    );\n    //\n    //    setTimeout( function(){\n    //            done();\n    //        },\n    //        4000);\n    //});\n\n});\n","describe(\"DriverFactory\", function () {\n    it('should create drivers for tizen', function () {\n\n        var platform = Platform.PLATFORM_TIZEN,\n            driverFactory = new DriverFactory(platform),\n            batteryDriver = driverFactory.buildBatteryDriver(platform),\n            networkDriver = driverFactory.buildNetworkDriver(platform),\n            hardwareDriver = driverFactory.buildHardwareDriver(platform);\n\n            expect( batteryDriver instanceof BatteryDriverTizen ).toBeTruthy();\n            expect( networkDriver instanceof NetworkDriverTizen ).toBeTruthy();\n            expect( hardwareDriver instanceof HardwareDriverTizen ).toBeTruthy();\n    });\n\n    it('should create drivers for android', function () {\n\n        var platform = Platform.PLATFORM_ANDROID,\n            driverFactory = new DriverFactory(platform),\n            batteryDriver = driverFactory.buildBatteryDriver(platform),\n            networkDriver = driverFactory.buildNetworkDriver(platform),\n            hardwareDriver = driverFactory.buildHardwareDriver(platform);\n\n            expect( batteryDriver instanceof BatteryDriverAndroid ).toBeTruthy();\n            expect( networkDriver instanceof NetworkDriverAndroid ).toBeTruthy();\n            expect( hardwareDriver instanceof HardwareDriverAndroid ).toBeTruthy();\n    });\n});\n","import {CyclingWorkout} from '../../../../src/js/workout/app.workout.cycling_workout.js';\nimport {RunningWorkout} from \"../../../../src/js/workout/app.workout.running_workout\";\n\ndescribe(\"Workout\", function () {\n    it('should calculate distance', function () {\n        let timeA = 1551018055000,\n            timeB = timeA + 20000, // +20 sec\n            pointA = new Point(\n            0,\n            45.8849114,\n            19.2545559,\n            0,\n            0,\n                timeA\n            ),\n\n            pointB = new Point(\n                0,\n                45.8856601,\n                19.2553514,\n                0,\n                0,\n                timeB\n            ),\n\n            expectedDistance = 103.54782304590353, // meters\n            workout = new CyclingWorkout(),\n            distance = workout._calculateDistance(pointA, pointB);\n\n        expect(distance).toEqual(expectedDistance);\n    });\n\n    it('should calculate speed', function () {\n        let timeA = 1551018055000,\n            timeB = timeA + 20000, // +20 sec\n            pointA = new Point(\n            0,\n            45.8849114,\n            19.2545559,\n            0,\n            0,\n            timeA\n            ),\n\n            pointB = new Point(\n                0,\n                45.8856601,\n                19.2553514,\n                0,\n                0,\n                timeB\n            ),\n\n            expectedSpeed = 18.638608148262635,\n            workout = new CyclingWorkout(),\n            speed = workout._calculateSpeed(pointA, pointB);\n\n        expect(speed).toEqual(expectedSpeed);\n    });\n\n    it('should calculate pace', function () {\n        let timeA = 1551018055000,\n            timeB = timeA + 40000, // +40 sec\n            pointA = new Point(\n            0,\n            45.8849114,\n            19.2545559,\n            0,\n            0,\n            timeA\n            ),\n\n            pointB = new Point(\n                0,\n                45.8856601,\n                19.2553514,\n                0,\n                0,\n                timeB\n            ),\n\n            expectedPace = 6.438248985409653,\n            workout = new RunningWorkout(),\n            pace = workout._calculatePace(pointA, pointB);\n\n        expect(pace).toEqual(expectedPace);\n    });\n\n    it('should add points and calculate distance and pace', function () {\n        let timeA = 1551018055000,\n            timeB = timeA + 40000, // +40 sec\n            pointA = new Point(\n                0,\n                45.8849114,\n                19.2545559,\n                0,\n                0,\n                timeA\n            ),\n\n            pointB = new Point(\n                0,\n                45.8856601,\n                19.2553514,\n                0,\n                0,\n                timeB\n            ),\n\n            expectedPace = 6.438248985409653,\n            expectedDistance = 103.54782304590353, // meters\n            workout = new RunningWorkout();\n\n            workout.addPoint(pointA);\n            workout.addPoint(pointB);\n\n        expect(workout.speed).toEqual(expectedPace);\n        expect(workout.distance).toEqual(expectedDistance);\n    });\n\n    it('should add points and calculate distance and speed', function () {\n        let timeA = 1551018055000,\n            timeB = timeA + 20000, // +20 sec\n            pointA = new Point(\n                0,\n                45.8849114,\n                19.2545559,\n                0,\n                0,\n                timeA\n            ),\n\n            pointB = new Point(\n                0,\n                45.8856601,\n                19.2553514,\n                0,\n                0,\n                timeB\n            ),\n\n            expectedSpeed = 18.638608148262635, // km/h\n            expectedDistance = 103.54782304590353, // meters\n            workout = new CyclingWorkout();\n\n        workout.addPoint(pointA);\n        workout.addPoint(pointB);\n\n        expect(workout.speed).toEqual(expectedSpeed);\n        expect(workout.distance).toEqual(expectedDistance);\n    });\n});\n","/*\n * Copyright (c) 2015 Samsung Electronics Co., Ltd. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*global document, tizen, console, window*/\n\n/**\n * Main application module.\n * Provides a namespace for other application modules.\n * Handles application life cycle.\n *\n * @module app\n * @requires {@link app.model.battery}\n * @requires {@link app.ui}\n * @namespace app\n */\n\nrequire('../js/model/models');\n\nrequire('./spec/WorkoutModelSpec');\nrequire('./spec/SyncModelSpec');\nrequire('./spec/unit/DriverFactorySpec');\nrequire('./spec/unit/WorkoutSpec');"],"sourceRoot":""}